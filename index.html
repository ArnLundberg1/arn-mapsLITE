<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Navigeringsapp â€” Demo</title>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Optional leaflet plugins could be added later -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header id="topbar">
    <div class="brand">ğŸ—ºï¸ Navigator</div>
    <div class="top-actions">
      <button id="btnSettings" title="InstÃ¤llningar">âš™ï¸</button>
      <button id="btnProfile" title="Profil">ğŸ‘¤</button>
    </div>
  </header>

  <!-- Map container -->
  <div id="map"></div>

  <!-- Centered search bar (can be toggled to bottom via settings) -->
  <div id="uiSearch">
    <input id="searchInput" placeholder="SÃ¶k plats, adress eller POI..." autocomplete="off" />
    <button id="searchBtn">ğŸ”</button>
    <div id="searchResults" class="dropdown hidden"></div>
  </div>

  <!-- Transport quick buttons (small) -->
  <div id="transportButtons" class="transport">
    <button data-mode="driving" class="mode active" title="Bil">ğŸš—</button>
    <button data-mode="cycling" class="mode" title="Cykel">ğŸš´</button>
    <button data-mode="walking" class="mode" title="GÃ¥ng">ğŸš¶</button>
    <button data-mode="transit" class="mode" title="Kollektivtrafik">ğŸšŒ</button>
  </div>

  <!-- Right side: directions (keeps persistent) -->
  <aside id="sidebar">
    <section id="directions">
      <h3>FÃ¤rdbeskrivning</h3>
      <div id="directionsList">Ingen rutt aktiv.</div>
      <div id="turnControls" class="hidden">
        <button id="btnPrevStep">â—€ï¸ FÃ¶regÃ¥ende</button>
        <button id="btnNextStep">NÃ¤sta â–¶ï¸</button>
        <button id="btnCancelRoute">âŒ Avbryt rutt</button>
      </div>
    </section>
  </aside>

  <!-- Bottom-left: recent & favorites (small tiles) -->
  <div id="bottomLeft">
    <div id="recent" class="miniPanel">
      <h4>Senaste sÃ¶kningar</h4>
      <ul id="recentList"></ul>
    </div>

    <div id="favorites" class="miniPanel">
      <h4>Favoriter</h4>
      <ul id="favList"></ul>
      <div class="favButtons">
        <button id="saveHome">ğŸ  Spara Hem</button>
        <button id="saveWork">ğŸ’¼ Spara Jobb</button>
      </div>
    </div>
  </div>

  <!-- Bottom-right floating actions (locate, measure, share, report) -->
  <div id="floatingActions">
    <button id="btnLocate" title="FÃ¶lj/Dra till min position">ğŸ“</button>
    <button id="btnMeasure" title="MÃ¤t avstÃ¥nd">ğŸ“</button>
    <button id="btnShare" title="Dela vy">ğŸ”—</button>
    <button id="btnReport" title="Rapportera hinder">âš ï¸</button>
  </div>

  <!-- Recenter small box (center bottom above directions) -->
  <div id="recenterBox">
    <label><input id="toggleRecenter" type="checkbox" /> Ã…terpositionering</label>
  </div>

  <!-- Settings modal -->
  <div id="settingsModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modalContent">
      <button class="closeModal" id="closeSettings" title="StÃ¤ng">&times;</button>
      <h2>âš™ï¸ InstÃ¤llningar</h2>

      <label>SprÃ¥k
        <select id="settingLanguage">
          <option value="sv">Svenska</option>
          <option value="en">English</option>
          <option value="de">Deutsch</option>
          <option value="es">EspaÃ±ol</option>
        </select>
      </label>

      <label>Tema
        <select id="settingTheme">
          <option value="light">Ljust</option>
          <option value="dark">MÃ¶rkt</option>
        </select>
      </label>

      <label>UI placering
        <select id="settingUiPos">
          <option value="top">UI uppe</option>
          <option value="bottom">UI nere</option>
        </select>
      </label>

      <label>Standard fÃ¤rdmedel
        <select id="defaultMode">
          <option value="driving">Bil ğŸš—</option>
          <option value="cycling">Cykel ğŸš´</option>
          <option value="walking">GÃ¥ng ğŸš¶</option>
          <option value="transit">Kollektivtrafik ğŸšŒ</option>
        </select>
      </label>

      <div class="toggles">
        <label><input id="toggleTraffic" type="checkbox" /> Trafik (Trafikverket)</label>
        <label><input id="toggleWeather" type="checkbox" /> VÃ¤dervarningar</label>
        <label><input id="togglePOI" type="checkbox" /> POI (ladd/parkering)</label>
        <label><input id="toggleAutoReroute" type="checkbox" /> Automatisk omlÃ¤ggning</label>
        <label><input id="toggleTTS" type="checkbox" checked /> RÃ¶stnavigation (TTS)</label>
      </div>

      <div class="modalActions">
        <button id="saveSettingsBtn">Spara</button>
      </div>
    </div>
  </div>

  <!-- Profile modal (local profile) -->
  <div id="profileModal" class="modal hidden">
    <div class="modalContent">
      <button class="closeModal" id="closeProfile">&times;</button>
      <h2>Profil</h2>
      <label>Namnet</label>
      <input id="profileName" placeholder="Ditt namn" />
      <label>Email</label>
      <input id="profileEmail" placeholder="me@example.com" />
      <div><button id="saveProfile">Spara profil (lokalt)</button></div>
      <p class="muted">Notera: detta sparas lokalt i din webblÃ¤sare.</p>
    </div>
  </div>

  <!-- Hidden toast -->
  <div id="toast" class="hidden" role="status"></div>

  <!-- Config file (js that sets window.APP_CONFIG) -->
  <script src="config.cfg"></script>

  <!-- App logic -->
  <script src="script.js"></script>
</body>
</html>
